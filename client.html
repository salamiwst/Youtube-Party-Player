<!DOCTYPE html> 
<html>
<head>
	<title>PartyPlayer Client</title>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
	<script type="text/javascript">
	
		var xmlhttp;
		if (window.XMLHttpRequest)
		  {// code for IE7+, Firefox, Chrome, Opera, Safari
		  xmlhttp=new XMLHttpRequest();
		  }
		else
		  {// code for IE6, IE5
		  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		  }
	
		// get URL params		
		(function(){
		    var s = window.location.search.substring(1).split('&');
		    if(!s.length) return;
		    window.$_GET = {};
		    for(var i  = 0; i < s.length; i++) {
		        var parts = s[i].split('=');
		        window.$_GET[unescape(parts[0])] = unescape(parts[1]);
		    }
		}())
		
		function search(){
			xmlhttp.open("POST","http://"+$('#ip').val()+":8880/callback",true);
			xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
			xmlhttp.send("play " + $('#search-basic').val());
		}
		
		function url(){
			xmlhttp.open("POST","http://"+$('#ip').val()+":8880/callback",true);
			xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
			xmlhttp.send("url " + $('#search-basic').val());
		}
	</script>
</head>
<body>
<div data-role="page">
	<div data-role="header">
		<h1>YT-PartyPlayer</h1>
	</div><!-- /header -->

	<div data-role="content">
		<div data-role="fieldcontain">
			<input type="search" name="search" id="search-basic" value="" />
		</div>
		<div data-role="controlgroup"  data-type="horizontal">
			<a href="javascript:search()" data-role="button">Search</a>
			<a href="javascript:url()" data-role="button">URL</a>
		</div>
		<label for="ip">Server IP:</label>
    	<input type="text" name="ip" id="ip" value="192.168.1.10"  />		
	</div><!-- /content -->
</div><!-- /page -->		
</body>
</html>

